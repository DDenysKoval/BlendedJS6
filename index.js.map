{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  form: document.querySelector(\".search-form\"),\n  categoriesList: document.querySelector(\".categories\"),\n  productsList: document.querySelector(\".products\"),\n  // allButtons: document.querySelectorAll(\".categories__btn\"),\n};\n","// Функції для роботи з бекендом\nimport axios from \"axios\";\nimport { currentPage, renderSelectCategory } from \"./handlers\";\n\n\nexport async function getProductList() {\n  try {\n    const response = await axios.get(\"https://dummyjson.com/products/category-list\");\n    return response;\n  } catch(error) {\n    console.log(error.message);\n  }\n}\n\n\nexport async function getAllProducts() {\n  const params = {\n    limit: 12,\n    skip: (currentPage - 1) * 12,\n    orientation: \"portrait\",\n  }\n  try {\n    const response = await axios.get(\"https://dummyjson.com/products/\", { params });\n    return response;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport async function getCategoryItems(category) {\n  const params = {\n    limit: 12,\n    skip: (currentPage - 1) * 12,\n    orientation: \"portrait\",\n  }\n  try {\n    const response = await axios.get(`https://dummyjson.com/products/category/${category}`, { params });\n    return response;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","//Функцію для створення, рендеру або видалення розмітки\nimport { refs } from \"./refs\";\n\nexport function createCategoriesMarkup(arr) {\n  arr.unshift(\"All\");\n  return arr.map(item => `\n    <li class=\"categories__item\">\n      <button class=\"categories__btn\" type=\"button\">${item}</button>\n    </li>`)\n    .join(\"\");\n}\n\nexport function createProductsMarkup(arr) {\n  return arr.map(product => `\n    <li class=\"products__item\" data-id=\"${product.id}\">\n      <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.description}\"/>\n      <p class=\"products__title\">${product.title}</p>\n      <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${product.brand}</span></p>\n      <p class=\"products__category\">Category: ${product.category}  </p>\n      <p class=\"products__price\">Price: ${product.price}$</p>\n    </li>`)\n    .join(\"\");;\n}\n\n","// Функції, які передаються колбеками в addEventListners\nimport { getCategoryItems, getProductList } from \"./products-api\";\nimport { refs } from \"./refs\";\nimport { createCategoriesMarkup } from \"./render-function\";\nimport { getAllProducts } from \"./products-api\";\nimport { createProductsMarkup } from \"./render-function\";\n\nexport async function renderPage() {\n  try {\n    const response = await getProductList();\n    refs.categoriesList.innerHTML = createCategoriesMarkup(response.data);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport let currentPage = 1;\nexport let category;\n\nexport async function renderProducts(e) {\n  e.preventDefault();\n  currentPage = 1;\n  try {\n    const response = await getAllProducts();\n    refs.productsList.innerHTML = createProductsMarkup(response.data.products);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport async function renderSelectCategory(e) {\n  currentPage = 1;\n  const allButtons = document.querySelectorAll(\".categories__btn\")\n  allButtons.forEach(btn => btn.classList.remove(\"categories__btn--active\"));\n  if (e.target.nodeName !== \"BUTTON\") {\n    return;\n  }\n  category = e.target.textContent;\n  const selectedCategory = e.target.closest(\".categories__btn\");\n  selectedCategory.classList.add(\"categories__btn--active\");\n\n  try {\n    const response = await getCategoryItems(category);\n    refs.productsList.innerHTML = createProductsMarkup(response.data.products);\n    if (category === \"All\") {\n      const response = await getAllProducts();\n      refs.productsList.innerHTML = createProductsMarkup(response.data.products);\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","//Логіка сторінки Home\nimport { refs } from \"./js/refs\";\nimport { renderPage, renderProducts, renderSelectCategory } from \"./js/handlers\";\n\ndocument.addEventListener(\"DOMContentLoaded\", renderPage);\n\n\nrefs.form.addEventListener(\"submit\", renderProducts);\n\nrefs.categoriesList.addEventListener(\"click\", renderSelectCategory);"],"names":["refs","getProductList","axios","error","getAllProducts","params","currentPage","getCategoryItems","category","createCategoriesMarkup","arr","item","createProductsMarkup","product","renderPage","response","renderProducts","e","renderSelectCategory","btn"],"mappings":"oFAEO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,cAAc,EAC3C,eAAgB,SAAS,cAAc,aAAa,EACpD,aAAc,SAAS,cAAc,WAAW,CAElD,ECFO,eAAeC,GAAiB,CACrC,GAAI,CAEF,OADiB,MAAMC,EAAM,IAAI,8CAA8C,CAEhF,OAAOC,EAAO,CACb,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAGO,eAAeC,GAAiB,CACrC,MAAMC,EAAS,CACb,MAAO,GACP,MAAOC,EAAc,GAAK,GAC1B,YAAa,UACd,EACD,GAAI,CAEF,OADiB,MAAMJ,EAAM,IAAI,kCAAmC,CAAE,OAAAG,CAAM,CAAE,CAE/E,OAAQF,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEO,eAAeI,EAAiBC,EAAU,CAC/C,MAAMH,EAAS,CACb,MAAO,GACP,MAAOC,EAAc,GAAK,GAC1B,YAAa,UACd,EACD,GAAI,CAEF,OADiB,MAAMJ,EAAM,IAAI,2CAA2CM,CAAQ,GAAI,CAAE,OAAAH,CAAM,CAAE,CAEnG,OAAQF,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CCtCO,SAASM,EAAuBC,EAAK,CAC1C,OAAAA,EAAI,QAAQ,KAAK,EACVA,EAAI,IAAIC,GAAQ;AAAA;AAAA,sDAE6BA,CAAI;AAAA,UAChD,EACL,KAAK,EAAE,CACZ,CAEO,SAASC,EAAqBF,EAAK,CACxC,OAAOA,EAAI,IAAIG,GAAW;AAAA,0CACcA,EAAQ,EAAE;AAAA,0CACVA,EAAQ,SAAS,UAAUA,EAAQ,WAAW;AAAA,mCACrDA,EAAQ,KAAK;AAAA,8EAC8BA,EAAQ,KAAK;AAAA,gDAC3CA,EAAQ,QAAQ;AAAA,0CACtBA,EAAQ,KAAK;AAAA,UAC7C,EACL,KAAK,EAAE,CACZ,CCfO,eAAeC,GAAa,CACjC,GAAI,CACF,MAAMC,EAAW,MAAMd,IACvBD,EAAK,eAAe,UAAYS,EAAuBM,EAAS,IAAI,CACrE,OAAQZ,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEO,IAAIG,EAAc,EACdE,EAEJ,eAAeQ,EAAeC,EAAG,CACtCA,EAAE,eAAc,EAChBX,EAAc,EACd,GAAI,CACF,MAAMS,EAAW,MAAMX,IACvBJ,EAAK,aAAa,UAAYY,EAAqBG,EAAS,KAAK,QAAQ,CAC1E,OAAQZ,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEO,eAAee,EAAqBD,EAAG,CAI5C,GAHAX,EAAc,EACK,SAAS,iBAAiB,kBAAkB,EACpD,QAAQa,GAAOA,EAAI,UAAU,OAAO,yBAAyB,CAAC,EACrEF,EAAE,OAAO,WAAa,SACxB,OAEFT,EAAWS,EAAE,OAAO,YACKA,EAAE,OAAO,QAAQ,kBAAkB,EAC3C,UAAU,IAAI,yBAAyB,EAExD,GAAI,CACF,MAAMF,EAAW,MAAMR,EAAiBC,CAAQ,EAEhD,GADAR,EAAK,aAAa,UAAYY,EAAqBG,EAAS,KAAK,QAAQ,EACrEP,IAAa,MAAO,CACtB,MAAMO,EAAW,MAAMX,IACvBJ,EAAK,aAAa,UAAYY,EAAqBG,EAAS,KAAK,QAAQ,CAC1E,CACF,OAAQZ,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CC/CA,SAAS,iBAAiB,mBAAoBW,CAAU,EAGxDd,EAAK,KAAK,iBAAiB,SAAUgB,CAAc,EAEnDhB,EAAK,eAAe,iBAAiB,QAASkB,CAAoB"}